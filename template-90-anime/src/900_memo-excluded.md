### AIエージェントを使ってみる
<!-- header: '#same# ' -->
{{{{{{{{{yoko
{{{{{{_
#### AIエージェントとは（機能・技術観点）
端的に述べると「==AIを自律的に動かす仕組み==」です。

プロンプトの工夫により、==AIに役割を与え、
それに沿った回答を出力できるように制御==できました。

MCPサーバーに代表されるように、AIはテキスト出力しかしないけれども、
周辺をサポートするソフトを用意することで、
==役割に沿って、回答だけでなく、具体的な作業もできる==ようになりました。

であれば、開発者と評価者、他にもデザイナーやらマネージャーといった
==それぞれの役割を持ったAIを用意すれば、
入力から出力まで、人の手を介入せずともチーム的に動ける==のでは？

==そのアイデアを実装したのがAIエージェント==です。
今回はAIエージェント用の開発キットを用いて、実験してみます。
}}}}}}
{{{{{{_
#### AIエージェント開発キット
＜ここはまだ実験中＞

＜間に合わなければ、パス＞
}}}}}}
}}}}}}}}}yoko

### AIエージェントによる生成物を確認
<!-- header: '#same# ' -->
{{{{{{{{{yoko
{{{{{{_
#### サンプル表示枠&nbsp;<button type="button" id="btn04-01" class="btn-iframe" data-target="#frame04-01" data-src="http://localhost:3999/"></button>
<iframe id="frame04-01" src="about:blank" loading="lazy" width="1100" height="800" style="border:1;">
</iframe>

}}}}}}
{{{{{{_
＜実験中。間に合わなければパス＞

#### 1. 注目ポイント
サンプル表示枠にて生成物を確認します。
注目点は以下。


#### 2. 実際に操作
サンプル表示枠で操作します。

#### 3. 次ステップ
ここまでの経験を知見に昇華
}}}}}}
}}}}}}}}}yoko

今回はClaude Codeを用いて自然言語によるAIプログラミングを紹介していますが、
そこに==MCPとAIエージェントという仕組み==を導入した場合の事例も後ほど取り上げます。

### 修正プラン
- 実例に対する具体的知見を追記：それぞれ1ページ程度ずつ
    - 特にエラーへの対策において、AIの報告を理解するだけの技術力
    - そもそもエラーがでないように事前に仕様要件を定義する
    - 生成されたコードから、LLMを利用したコーディングスタイルを紹介（もう少し詳しく）
    - 個別テクニック：プロンプト、MCPサーバ、の実例？どこかから知見もってきて書いてみる
- 知見への修正
    - 直感力とかの哲学的技術を極小化→みんな興味ない
    - 個別テクニックへの解釈を直感力軸と技術軸での見方をコメント
    - 個別テクニックに対する比喩、具体例を追加、各片ページくらい
- 学習事項
    - 個別テクニックの実例検索：リンクいっぱいあるので消化
    - 個別テクニックの概要理解：インターフェース見てみる

### 文言ネタ

- `geminiclient.js`内でプロンプトが設定されていることを披露
  - プロンプトはエンドユーザーが手入力するだけのものではない
  - AIを利用したアプリやライブラリ内にも埋め込まれていたりする
  - AI開発するには裏方であってもプロンプトの作成能力は必要
  - 開発しなくても、上記の構造は知っておいた方が良い
- AI無料枠のお話
  - Gemini APIのURLは念のため提示しておくか
  - 実は3回やって全部失敗したので手動で登録しました、みたいな
  - でもこれはAIの問題か、指示の問題かは悩ましい


### プロンプト
⑦ 実例：今回の要件を1行で渡すなら

「“社内ヘルプデスクの簡易FAQサイト”。MVPはハードコード根拠→URL→PDFの順にRAGを拡張。Gemini無料枠、サーバ側のみで呼び出し、依存最小、まずはJSON保存。上の12セクション構成で設計を書き、続けてスキャフォールドを生成して。」

### 知見

AIの振る舞い

- 勝手に関係ないファイルまで修正する
  - 「ログイン」を「ダッシュボード」に
  - 何かの画面にアイコン追加
- 割と適当。特に選択肢の多い固有の文字列。
  - GeminiのURL修正、実は3回やって全部失敗している。→手動修正
- 技術選択も適当
  - ローカルHTMLからローカルファイルへのアクセスは不可
    →対策としてなんか重たいサーバを出してきたので、これも手動修正（browser-sync）

対策できるのかな？プロンプト、MCP、
→今度実験

### 求められる能力

AIは新卒コンサルエンジニアと思って下さい。名前はチャッピー
ポテンシャルは超高いけど目の前の現場業務はあまりよくわかってません。
チャッピーのアウトプットを高めるのに必要な能力は

- 指示能力（マネージャー視点）
- 業務への理解（ビジネス視点）
- 技術への理解（エンジニア視点）
※ 理解とは知識とイコールではありません

上記を具体的なアクションに言い換えると

- 適切な指示をする（後述）
- 現場業務の状況を的確に伝える（チャッピー、言えば理解してくれます）
- 技術視点を交えて作文する（チャッピーに合わせる）

よく、指示をする、という言葉を
あれやれ、これやれ、みたいな命令と勘違いしている人がいますが、
本来指示とは、

- やるべき事を言語化する、目的/業務と紐づける、目標/基準を示す（数値化前提ではない）
- 推敲する（不適切な言語化を排除する（端的にするなど）、相手の理解に合わせる、
- それを相手に伝える（ここだけを取り上げて「指示」と思わないこと）
です。

チャッピーの能力が低いと言う人は、そもそもその人の指示する能力が低い、
という可能性はあります。

技術視点、これは会計で例えてみます。（IT系で例えても逆に伝わらない）


### プロンプトの工夫が全てを変える
<!-- header: '#same#
  <div class="float"> コメント</div>
  <div class="header-item">
    <a href="">
     󰖟   
    📔🔗📝🔖💻
    </a>
  </div>
' -->

- 4. 使い方のコツ： プロンプト設計のコツ
- プロンプトの書き方：プロンプトの工夫が全てを変える
  - 曖昧に書かない（「Excel処理して」より「CSVを読み込んで列ごとに合計して」）
    - 曖昧 vs 具体的プロンプトの対比
  - 段階的に要求する
  - 「段階的に指示する」パターンを紹介
  - 良いプロンプトと悪いプロンプトの比較（例付き）
  - 「段階的に指示する」「具体的に要件を伝える」
  - **人間の思考整理力がそのままコード品質に直結する**ことを強調
- 出力コードのチェックポイント（安全性・冗長性・実行前に読む）

### AIのスキルを拡張（MCPサーバーの導入）
<!-- header: '#same#
  <div class="float"> コメント</div>
  <div class="header-item">
    <a href="">
     󰖟   
    📔🔗📝🔖💻
    </a>
  </div>
' -->

- MCPサーバーとは
- MCPサーバーの導入方法
- codex-cliの設定
- 使ってみよう

### 技術的まとめ
{{{{{{{{{yoko
{{{{{{_
従来のプログラムからどうやって生成AIを利用しているかがこれで推察できるかと思います。
利用方法的には外部関数API的な位置づけですが、
実装に求められるのは技術力より指示能力です。
そして、返り値は非決定論的です。
#### 今回の実践例の位置づけ
==今回のレクの目的は「AIを活用するきっかけ作り」== です{.text-spacing}

ここまでの例示は、「AIによるコーディングを試してみる」です。
AIへの指示（プロンプト）は自然言語かつ大雑把なものでした。

==途中でエラーが何度か発生し、一発で正解が得られた訳ではありません==が、
しかしながら、最終的にはヘルプデスク的な、
実際に動作するものが作成できています。{.text-spacing}

少しAIに手を出してみたけれど、使い物にならなかった、
もしくは使い切れなかった、という方に於かれましては、
==AIの活用には試行錯誤（失敗の積み重ね）が付き物==
との前提に立って取り組むことをお薦めします。
}}}}}}
{{{{{{_
#### 試行錯誤の結果
いくつか
}}}}}}
}}}}}}}}}yoko

### ソクラテス観点（無知の知）
<!-- header: '#same# ' -->
{{{{{{{{{yoko
{{{{{{_
#### 解説（別に哲学ではないです）
ご存じの方も多いと思いますが、無知（未知）とそれを知る知のペアリングです。
>[!INFO] 上記2つの観点は一般的なので完結に述べましたが
> 残り2つはちょっと独自見解も入っているので
> 詳し目に説明しておきます。


- 既知の知（知っていることを知っている）
- 既知の未知（知っていることを知らない）
- 未知の知（知らないことを知っている）
- 未知の未知（知らないことを知らない）

}}}}}}
{{{{{{_
#### 例：ハルシネーション
ハルシネーション（幻覚）という言葉がありますが、
これは「未知の未知」に該当すると見ています。

要はAIは「その内容を学習してない事に気づいてない」状態です。
結果、計算的に一番近そうな言葉を適当に返す、という結果に至ったのかな、と。

[OpenAI社がレポート](https://openai.com/ja-JP/index/why-language-models-hallucinate/)
出してますが、
「不確実なら棄権する」という選択肢を設ける事によりエラー率が低減しています。
個人的には「未知の知」と解釈してます。
{.text-spacing}

}}}}}}
}}}}}}}}}yoko


